= Configuring Zeppelin Visualization Tool

== Overview
Apache Zeppelin is a web-based too for interactive data analytics. It uses notebooks for data discovery, ingestion, analytics and visualization. The interpreters allows any language/data-processing-backend to be plugged into Zeppelin. For our project, we'll be using Postgresql backend.

== Configure Zeppelin

1. Login to the OpenShift environment web console (10.1.2.2:5443) and select the **iot-ose** project
image:/images/OSE-projects.png[width="500", height="400", align="center"]

2. Locate the *zeppelin* service on the overview page and click on its url to launch the Zeppelin web console
image:/images/Zeppelin-service.png[width="500", height="400", align="center"]

2. Select *anonymous* username and click on **Interpreter**
image:/images/Zeppelin-interpreter.png[width="700", height="300", align="center"]

3. Create a new interpreter called *iot-ose* by selecting **Create** on the top right hand corner of the page. 
image:/images/Zeppelin-interpreter-create.png[width="700", height="300", align="center"]

4. Enter **iot-ose** in the name checkbox and select **psql** in the Interpreter dropdown. By selecting *psql*, several name/value pairs are automatically pre populated. Enter the following pairs to modify the default configurations.

| Name  | Value |
|----------|---------|
| postgresql.password	| postgresiot |
| postgresql.url | jdbc:postgresql://postgresql:5432/iot |
| postgresql.user | postgresiot |

5. Click **Save** to apply the changes
image:/images/Zeppelin-interpreter-create-form.png[width="700", height="300", align="center"]

6. The visualizations are contained in *Notebooks*. A preconfigured base note for the project are available in the *support/zeppelin* folder in a file called [iot-ose.json](support/zeppelin/iot-ose.json).

6. Click on Zeppelin logo on the top left to return to the homepage

7. Under notebook, select **Import note** to import the pre-configured notebook (available  at support/zeppelin) 
image:/images/Zeppelin-importNote.png[width="700", height="300", align="center"]

8. Enable the *iot-ose* interpreter created earlier by selecting the gear on the top right corner of the page representing the **interpreter Binding**. 

9. Locate the *iot-ose* interpreter and drag it to top of the list (ensure the interpreter is enabled by clicking on it so that is highlighted in blue)

10. Click **Save** to apply the changes
image:/images/Zeppelin-.png[width="700", height="300", align="center"]

11. Execute all visualizations by hitting the play button on the top lefthand corner of the page next to the name of the note. 
image:/images/Zeppelin-.png[width="700", height="300", align="center"]

