= Configuring Zeppelin Visualization Tool

== Overview
Apache Zeppelin is a web-based too for interactive data analytics. It uses notebooks for data discovery, ingestion, analytics and visualization. The interpreters allows any language/data-processing-backend to be plugged into Zeppelin. For our project, we'll be using Postgresql backend.

== Configure Zeppelin

*Step 1:* Login to the OpenShift environment web console (10.1.2.2:5443) and select the **iot-ose** project

image:/images/OSE-projects.png[width="500", height="400", align="center"]

*Step 2:* Locate the *Zeppelin* service on the overview page and click on its url to launch the Zeppelin web console

image:/images/Zeppelin-service.png[width="500", height="400", align="center"]

*Step 3:* Select *anonymous* username and click on **Interpreter**

image:/images/zeppelin-interpreter.png[width="800", height="300", align="center"]

*Step 4:* Create a new interpreter by selecting **Create** on the top right hand corner of the page

image:/images/zeppelin-interpreter-create.png[width="800", height="300", align="center"]

*Step 5:* Enter **iot-ose** as the name and select **psql** in the Interpreter group. Modify only the following values from default configuration:


[width="50%",cols="2,^2",options="header"]
|=========================================================
|Name |Value

|postgresql.password |postgresiot

|postgresql.url |jdbc:postgresql://postgresql:5432/iot

|postgresql.user |postgresiot
|=========================================================

*Step 6:* Click **Save** to apply the changes

image:/images/zepellin-interpreter-create-form.png[width="800", height="300", align="center"]

*Step 7:* The visualizations are contained in *Notebooks*. A preconfigured base note for the project are available in the *support/zeppelin* folder in a file called [iot-ose.json](support/zeppelin/iot-ose.json).

*Step 8:* Click on Zeppelin logo on the top left to return to the homepage

*Step 9:* Under notebook, select **Import note** to import the pre-configured notebook (available  at support/zeppelin) 

image:/images/zeppelin-importNote.png[width="800", height="300", align="center"]

*Step 10:* Enable the *iot-ose* interpreter created earlier by selecting the gear on the top right corner of the page representing the **interpreter Binding**. 

*Step 11:* Locate the *iot-ose* interpreter and drag it to top of the list (ensure the interpreter is enabled by clicking on it so that is highlighted in blue)

*Step 12:* Click **Save** to apply the changes
image:/images/zeppelin-.png[width="700", height="300", align="center"]

*Step 13:* Execute all visualizations by hitting the play button on the top lefthand corner of the page next to the name of the note. 
image:/images/zeppelin-.png[width="700", height="300", align="center"]

